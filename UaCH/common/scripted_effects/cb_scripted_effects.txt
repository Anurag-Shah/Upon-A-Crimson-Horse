transfer_subjects_as_governors = {	
	$FROM$ = {
		every_subject_country = {
			create_subject = {
				subject_type = governor
				who = $TO$
			}
		}
		create_subject = {
			subject_type = governor
			who = $TO$
		}
	}
}

uach_return_to_civil_war = {
	#TODO
}

demote_to_prince = {
	#TODO
}

uach_promote_to_prince_effect = {
	#TODO
}

uach_isf_side = {
	ISF = {
		every_ally = {
			set_country_flag = uach_isf_side_pre_war
		}
		set_country_flag = uach_isf_side_pre_war
	}
}

uach_add_random_development = {
	for = {
		amount = $AMOUNT$
		effect = "
			random_list = {
				33 = {
					add_base_tax = $VALUE$
				}
				33 = {
					add_base_production = $VALUE$
				}
				33 = {
					add_base_manpower = $VALUE$
				}
			}
		"
	}
}

uach_remove_half_year_mana = {
	
	export_to_variable = {
		value = trigger_value:monthly_adm
		which = uach_enemies_adm
	}

	multiply_variable = {
		which = uach_enemies_adm
		value = -6
	}

	export_to_variable = {
		value = trigger_value:monthly_dip
		which = uach_enemies_dip
	}
	
	if = {
		limit = {
			check_variable = {
				which = uach_enemies_dip
				value = 0 
			}
		}
		multiply_variable = {
			which = uach_enemies_dip
			value = -6
		}
	}	

	export_to_variable = {
		value = trigger_value:monthly_mil
		which = uach_enemies_mil
	}

	multiply_variable = {
		which = uach_enemies_mil
		value = -6
	}

	add_adm_power = uach_enemies_adm	
	add_dip_power = uach_enemies_dip
	add_mil_power = uach_enemies_mil
}

uach_add_random_mana = { 
	random_list = {
		33 = {
			add_adm_power = $VALUE$
		}
		33 = {
			add_dip_power = $VALUE$
		}
		33 = {
			add_mil_power = $VALUE$
		}
	}
}

on_abdu_sa_id_rebellion = {
	454 = {
		remove_province_modifier = abdu_said_mirza_married
	}
}

# the beauty of EU4 modding is truely amazing
she_may_flee = {
	if = {
		limit = {
			REB = {
				check_variable = {
					which = uach_flee_chance
					value = 0
				}
			}
		}
		random_list = {
			20 = {
				country_event = {
					id = UaCH.37
				}
			}
			# TODO decrease the chance of her fleeing to anouther country each time.
			80 = {
				random_country = {
					limit = {
						has_country_flag = uach_second_succession_crisis_war_flag
					}
					capital_scope = {
						set_province_flag = uach_gawhar_shad_province
					}
				}
				ROOT = {
					every_province = {
						clr_province_flag = uach_gawhar_shad_province
					}
				}
				REB = {					
					change_variable = {
						which = uach_flee_chance
						value = 1
					}
				}
			}
		}
	}
	else_if = {
		limit = {
			REB = {
				check_variable = {
					which = uach_flee_chance
					value = 1
				}
			}
		}
		random_list = {
			30 = {
				country_event = {
					id = UaCH.37
				}
			}
			70 = {
				random_country = {
					limit = {
						has_country_flag = uach_second_succession_crisis_war_flag
					}
					capital_scope = {
						set_province_flag = uach_gawhar_shad_province
					}
				}
				ROOT = {
					every_province = {
						clr_province_flag = uach_gawhar_shad_province
					}
				}
				REB = {
					change_variable = {
						which = uach_flee_chance
						value = 1
					}
				}
			}
		}		
	}
	else_if = {
		limit = {
			REB = {
				check_variable = {
					which = uach_flee_chance
					value = 2
				}
			}
		}
		random_list = {
			40 = {
				country_event = {
					id = UaCH.37
				}
			}
			60 = {
				random_country = {
					limit = {
						has_country_flag = uach_second_succession_crisis_war_flag
					}
					capital_scope = {
						set_province_flag = uach_gawhar_shad_province
					}
				}
				ROOT = {
					every_province = {
						clr_province_flag = uach_gawhar_shad_province
					}
				}
				REB = {
					change_variable = {
						which = uach_flee_chance
						value = 1
					}
				}
			}
		}		
	}
	else_if = {
		limit = {
			REB = {
				check_variable = {
					which = uach_flee_chance
					value = 3
				}
			}
		}
		random_list = {
			50 = {
				country_event = {
					id = UaCH.37
				}
			}
			50 = {
				random_country = {
					limit = {
						has_country_flag = uach_second_succession_crisis_war_flag
					}
					capital_scope = {
						set_province_flag = uach_gawhar_shad_province
					}
				}
				ROOT = {
					every_province = {
						clr_province_flag = uach_gawhar_shad_province
					}
				}
				REB = {
					change_variable = {
						which = uach_flee_chance
						value = 1
					}
				}
			}
		}		
	}
	else_if = {
		limit = {
			REB = {
				check_variable = {
					which = uach_flee_chance
					value = 4
				}
			}
		}
		random_list = {
			60 = {
				country_event = {
					id = UaCH.37
				}
			}
			40 = {
				random_country = {
					limit = {
						has_country_flag = uach_second_succession_crisis_war_flag
					}
					capital_scope = {
						set_province_flag = uach_gawhar_shad_province
					}
				}
				ROOT = {
					every_province = {
						clr_province_flag = uach_gawhar_shad_province
					}
				}
				REB = {
					change_variable = {
						which = uach_flee_chance
						value = 1
					}
				}
			}
		}		
	}
	else_if = {
		limit = {
			REB = {
				check_variable = {
					which = uach_flee_chance
					value = 5
				}
			}
		}
		random_list = {
			70 = {
				country_event = {
					id = UaCH.37
				}
			}
			30 = {
				random_country = {
					limit = {
						has_country_flag = uach_second_succession_crisis_war_flag
					}
					capital_scope = {
						set_province_flag = uach_gawhar_shad_province
					}
				}
				ROOT = {
					every_province = {
						clr_province_flag = uach_gawhar_shad_province
					}
				}
				REB = {
					change_variable = {
						which = uach_flee_chance
						value = 1
					}
				}
			}
		}		
	}
	else_if = {
		limit = {
			REB = {
				check_variable = {
					which = uach_flee_chance
					value = 6
				}
			}
		}
		random_list = {
			80 = {
				country_event = {
					id = UaCH.37
				}
			}
			20 = {
				random_country = {
					limit = {
						has_country_flag = uach_second_succession_crisis_war_flag
					}
					capital_scope = {
						set_province_flag = uach_gawhar_shad_province
					}
				}
				ROOT = {
					every_province = {
						clr_province_flag = uach_gawhar_shad_province
					}
				}
				REB = {
					change_variable = {
						which = uach_flee_chance
						value = 1
					}
				}
			}
		}		
	}
	else_if = {
		limit = {
			REB = {
				check_variable = {
					which = uach_flee_chance
					value = 7
				}
			}
		}
		random_list = {
			90 = {
				country_event = {
					id = UaCH.37
				}
			}
			10 = {
				random_country = {
					limit = {
						has_country_flag = uach_second_succession_crisis_war_flag
					}
					capital_scope = {
						set_province_flag = uach_gawhar_shad_province
					}
				}
				ROOT = {
					every_province = {
						clr_province_flag = uach_gawhar_shad_province
					}
				}
				REB = {
					change_variable = {
						which = uach_flee_chance
						value = 1
					}
				}
			}
		}		
	}
	else_if = {
		limit = {
			REB = {
				check_variable = {
					which = uach_flee_chance
					value = 8
				}
			}
		}
		country_event = {
			id = UaCH.37
		}
		REB = {
			change_variable = {
				which = uach_flee_chance
				value = 1
			}
		}
	}
}
